<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .card {}

        .icon-cart {

            width: 30px;
            height: 30px;
            display: flex;
            justify-content: center;
            border: 1px solid red;
            border-color: rgb(174, 162, 162);

        }

        .qty {
            width: 30px;
            height: 30;
            display: flex;
            justify-content: center;
            border: 1px solid red;
            border-color: rgb(174, 162, 162);
        }

        .qty-no {
            margin-top: 2px;
        }

        .title {
            font-size: 14px;
        }

        .remove-btn {
            background-color: rgba(255, 0, 0, 0.852);
            width: 30px !important;
            border-radius: 2px;
            height: 30px !important;
        }

        .qt-btn {
            border: none !important;
            width: 30px;
            height: 30px;
        }

        .thumbnail-image {
            cursor: pointer;
            transition: border 0.3s ease;
            border: 2px solid transparent;
            width: 100px;
            height: 75px;
            /* Set a fixed height for thumbnails */
            object-fit: cover;
            /* Cover the thumbnail container */
        }

        .thumbnail-image.active {
            border: 1px solid #007bff;
            /* Blue border or any color you choose */
            border-radius: 5px;
            /* Optional: rounded corners */
        }

        .img-box {
            border: solid 1px grey;
            border-radius: 5px;
            overflow: hidden;
        }

        .btn-product {
            border: solid 1px black !important;
            border-radius: 8px;
            color: black !important;
        }

        
    </style>
</head>

<body>
    <main class="main">
        <div class="page-content mt-5 pt-lg-3">
            <div class="container mt-lg-5 pt-lg-2">
                <div class="product-details-top">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="product-gallery product-gallery-vertical">
                                <div class="row justify-content-center">
                                    <figure class="product-main-image">
                                        <img id="product-zoom" src="/images/{{product.mainImage}}"
                                            data-zoom-image="assets/images/products/single/1-big.jpg"
                                            alt="product image">

                                        {{!-- <a href="" id="btn-product-gallery" class="btn-product-gallery">
                                            <i class="icon-arrows"></i>
                                        </a> --}}
                                    </figure><!-- End .product-main-image -->

                                    <div class="row">
                                        <div class="col-3">
                                            <div class="img-box">
                                                <img src="/images/{{product.mainImage}}" alt=""
                                                    class="thumbnail-image active">
                                            </div>
                                        </div>
                                        {{#each product.images }}
                                        <div class="col-3">
                                            <div class="img-box">
                                                <img src="/images/{{this}}" alt="" class="thumbnail-image">
                                            </div>
                                        </div>
                                        {{/each}}
                                    </div>
                                </div><!-- End .row -->
                            </div><!-- End .product-gallery -->
                        </div><!-- End .col-md-6 -->

                        <div class="col-md-6 mt-lg-4">
                            <div class="product-details">
                                <h1 class="product-title">{{product.name}}</h1>
                                <!-- End .product-title -->

                                {{!-- <div class="ratings-container">
                                    <div class="ratings">
                                        <div class="ratings-val" style="width: 80%;"></div><!-- End .ratings-val -->
                                    </div><!-- End .ratings -->
                                    <a class="ratings-text" href="#product-review-link" id="review-link">( 2 Reviews
                                        )</a>
                                </div><!-- End .rating-container --> --}}

                                <div class="product-price">
                                    â‚¹{{product.price}}
                                </div><!-- End .product-price -->

                                <div class="product-content">
                                    <p>{{product.description}}</p>
                                </div><!-- End .product-content -->


                            </div><!-- End .details-filter-row -->

                            {{!-- Quantity in product page --}}
                            {{!-- <div class="col ">
                                <div class="row ">
                                    <div class="col">
                                        <div class="row ml-1">
                                            <form action="/cart/decrease" method="POST">
                                                <input type="hidden" name="cartItemId" value="{{this._id}}">
                                                <div class="icon-cart">
                                                    <button class="btn qt-btn" type="submit">
                                                        <i class="fa fa-minus"></i>
                                                    </button>
                                                </div>
                                            </form>
                                            <div class="qty">
                                                <div class="qty-no">{{product.quantity}}</div>
                                            </div>
                                            <form action="/cart/increase" method="POST">
                                                <input type="hidden" name="cartItemId" value="{{this._id}}">
                                                <div class="icon-cart">
                                                    <button class="btn qt-btn" type="submit">
                                                        <i class="fa fa-plus"></i>
                                                    </button>

                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div> --}}


                            {{#if inCart }}
                            <div class="product-details-action mt-2">
                                <button onclick="window.location.href='/cart'" type="button"
                                    class="btn-product btn-cart"><span>Go to cart</span></button>
                            </div><!-- End .product-details-action -->
                            {{else}}
                            <form action="/cart/add" method="POST">
                                <input type="hidden" name="userId" value="{{userId}}">
                                <input type="hidden" name="productId" value="{{productId}}">
                                <div class="product-details-action mt-2">
                                    <button type="submit" class="btn-product  btn-cart"><span class="text-dark">add to
                                            cart</span></button>
                                </div><!-- End .product-details-action -->
                            </form>
                            {{/if}}


                            <div class="product-details-footer">
                                {{!-- <div class="product-cat">
                                    <span>Category:</span>
                                    <a href="#">Women</a>,
                                    <a href="#">Dresses</a>,
                                    <a href="#">Yellow</a>
                                </div><!-- End .product-cat --> --}}

                                <div class="social-icons social-icons-sm">
                                    <span class="social-label">Share:</span>
                                    <a href="#" class="social-icon" title="Facebook" target="_blank"><i
                                            class="icon-facebook-f"></i></a>
                                    <a href="#" class="social-icon" title="Instagram" target="_blank"><i
                                            class="icon-instagram"></i></a>

                                </div>
                            </div><!-- End .product-details-footer -->
                        </div><!-- End .product-details -->
                    </div><!-- End .col-md-6 -->
                </div><!-- End .row -->
            </div><!-- End .product-details-top -->

            <div class="product-details-tab">
                <ul class="nav nav-pills justify-content-center" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link active" id="product-desc-link" data-toggle="tab" href="#product-desc-tab"
                            role="tab" aria-controls="product-desc-tab" aria-selected="true">Description</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" id="product-shipping-link" data-toggle="tab" href="#product-shipping-tab"
                            role="tab" aria-controls="product-shipping-tab" aria-selected="false">Shipping & Returns</a>
                    </li>

                </ul>
                <div class="tab-content">
                    <div class="tab-pane fade show active" id="product-desc-tab" role="tabpanel"
                        aria-labelledby="product-desc-link">
                        <div class="product-desc-content">
                            <h3>Product Information</h3>
                            <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Donec odio. Quisque volutpat
                                mattis eros. Nullam malesuada erat ut turpis. Suspendisse urna viverra non, semper
                                suscipit, posuere a, pede. Donec nec justo eget felis facilisis fermentum. Aliquam
                                porttitor mauris sit amet orci. Aenean dignissim pellentesque felis. Phasellus ultrices
                                nulla quis nibh. Quisque a lectus. Donec consectetuer ligula vulputate sem tristique
                                cursus. </p>

                        </div><!-- End .product-desc-content -->
                    </div><!-- .End .tab-pane -->

                    <div class="tab-pane fade" id="product-shipping-tab" role="tabpanel"
                        aria-labelledby="product-shipping-link">
                        <div class="product-desc-content">
                            <h3>Delivery & returns</h3>
                            <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Donec odio. Quisque volutpat
                                mattis eros. Nullam malesuada erat ut turpis. Suspendisse urna viverra non, semper
                                suscipit, posuere a, pede. Donec nec justo eget felis facilisis fermentum. Aliquam
                                porttitor mauris sit amet orci. Aenean dignissim pellentesque felis. Phasellus ultrices
                                nulla quis nibh. Quisque a lectus. Donec consectetuer ligula vulputate sem tristique
                                cursus. </p>
                        </div><!-- End .product-desc-content -->
                    </div><!-- .End .tab-pane -->
                    <div class="tab-pane fade" id="product-review-tab" role="tabpanel"
                        aria-labelledby="product-review-link">
                        <div class="reviews">
                            <h3>Reviews (2)</h3>
                            <div class="review">
                                <div class="row no-gutters">
                                    <div class="col-auto">
                                        <h4><a href="#">Samanta J.</a></h4>
                                        <div class="ratings-container">
                                            <div class="ratings">
                                                <div class="ratings-val" style="width: 80%;"></div>
                                                <!-- End .ratings-val -->
                                            </div><!-- End .ratings -->
                                        </div><!-- End .rating-container -->
                                        <span class="review-date">6 days ago</span>
                                    </div><!-- End .col -->
                                    <div class="col">
                                        <h4>Good, perfect size</h4>

                                        <div class="review-content">
                                            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ducimus cum
                                                dolores assumenda asperiores facilis porro reprehenderit animi culpa
                                                atque blanditiis commodi perspiciatis doloremque, possimus, explicabo,
                                                autem fugit beatae quae voluptas!</p>
                                        </div><!-- End .review-content -->

                                        <div class="review-action">
                                            <a href="#"><i class="icon-thumbs-up"></i>Helpful (2)</a>
                                            <a href="#"><i class="icon-thumbs-down"></i>Unhelpful (0)</a>
                                        </div><!-- End .review-action -->
                                    </div><!-- End .col-auto -->
                                </div><!-- End .row -->
                            </div><!-- End .review -->

                            <div class="review">
                                <div class="row no-gutters">
                                    <div class="col-auto">
                                        <h4><a href="#">John Doe</a></h4>
                                        <div class="ratings-container">
                                            <div class="ratings">
                                                <div class="ratings-val" style="width: 100%;"></div>
                                                <!-- End .ratings-val -->
                                            </div><!-- End .ratings -->
                                        </div><!-- End .rating-container -->
                                        <span class="review-date">5 days ago</span>
                                    </div><!-- End .col -->
                                    <div class="col">
                                        <h4>Very good</h4>

                                        <div class="review-content">
                                            <p>{{this.description}}</p>
                                        </div><!-- End .review-content -->

                                        <div class="review-action">
                                            <a href="#"><i class="icon-thumbs-up"></i>Helpful (0)</a>
                                            <a href="#"><i class="icon-thumbs-down"></i>Unhelpful (0)</a>
                                        </div><!-- End .review-action -->
                                    </div><!-- End .col-auto -->
                                </div><!-- End .row -->
                            </div><!-- End .review -->
                        </div><!-- End .reviews -->
                    </div><!-- .End .tab-pane -->
                </div><!-- End .tab-content -->
            </div><!-- End .product-details-tab -->



        </div><!-- End .container -->
        </div><!-- End .page-content -->
    </main><!-- End .main -->
    {{>footer}}
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const mainImage = document.getElementById('product-zoom');
            const thumbnails = document.querySelectorAll('.thumbnail-image');

            thumbnails.forEach(thumbnail => {
                thumbnail.addEventListener('click', () => {
                    // Update the main image source
                    mainImage.src = thumbnail.src;

                    // Remove active class from all thumbnails
                    thumbnails.forEach(img => img.classList.remove('active'));

                    // Add active class to the clicked thumbnail
                    thumbnail.classList.add('active');
                });
            });
        });
    </script>

</body>

</html>