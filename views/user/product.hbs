<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        /* Existing styles */
        .card {}

        .icon-cart {
            width: 30px;
            height: 30px;
            display: flex;
            justify-content: center;
            border: 1px solid rgb(174, 162, 162);
        }

        .qty {
            width: 30px;
            height: 30px;
            display: flex;
            justify-content: center;
            border: 1px solid rgb(174, 162, 162);
        }

        .qty-no {
            margin-top: 2px;
        }

        .title {
            font-size: 14px;
        }

        .remove-btn {
            background-color: rgba(255, 0, 0, 0.852);
            width: 30px !important;
            border-radius: 2px;
            height: 30px !important;
        }



        .qt-btn {
            border: none !important;
            width: 30px;
            height: 30px;
        }

        .thumbnail-image {
            cursor: pointer;
            transition: border 0.3s ease;
            border: 2px solid transparent;
            width: 100px;
            height: 75px;
            object-fit: cover;
        }

        .thumbnail-image.active {
            border: 2px solid #007bff;
            border-radius: 5px;
        }

        .img-box {
            border: solid 1px grey;
            border-radius: 5px;
            overflow: hidden;
        }

        .btn-product {
            border: solid 1px black !important;
            border-radius: 8px;
            color: black !important;
        }

        /* New styles for scrollable thumbnails */
        .thumbnail-container {
            display: flex;
            overflow-x: auto;
            padding-bottom: 10px;
            scroll-behavior: smooth;
        }

        .thumbnail-container::-webkit-scrollbar {
            height: 8px;
        }

        .thumbnail-container::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 10px;
        }

        .thumbnail-container::-webkit-scrollbar-thumb:hover {
            background: #555;
        }

        .owl-dots {
            text-align: center !important;
            padding-left: 125px;
            border-radius: 10px !important;
        }

        .owl-dot span {
            border: solid 1px rgba(0, 0, 0, 0.642) !important;

        }

        .owl-dot.active span {
            background-color: #007bff7b !important;
            color: #007bff !important;
            border: none !important;
        }

        .main-image {
            width: 100%;
            max-width: 600px;
            margin-bottom: 10px;
            position: relative;
            overflow: hidden;
            /* Ensure no overflow from the image */
        }

        .main-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            /* Ensure the image covers the container */
            border: 1px solid #ddd;
            border-radius: 8px;
        }

        .carousel-wrapper {
            display: flex;
            overflow-x: auto;
            padding: 10px 0;
            width: 100%;
            max-width: 600px;
            border-top: 1px solid #ddd;
            position: relative;
        }

        .carousel-wrapper::-webkit-scrollbar {
            height: 8px;
        }

        .carousel-wrapper::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 10px;
        }

        .carousel-wrapper::-webkit-scrollbar-thumb:hover {
            background: #555;
        }

        .carousel-item {
            cursor: pointer;
            transition: border 0.3s ease;
            border: 2px solid transparent;
            width: 100px;
            height: 75px;
            object-fit: cover;
            /* Ensure thumbnails cover their container */
            margin-right: 5px;
        }

        .carousel-item.active {
            border: 2px solid #007bff;
            border-radius: 5px;
        }

        .carousel-buttons {
            display: flex;
            justify-content: space-between;
            width: 100%;
            max-width: 600px;
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            z-index: 1;
        }

        .carousel-button {
            background: rgba(0, 0, 0, 0.5);
            border: none;
            color: white;
            padding: 10px;
            cursor: pointer;
            border-radius: 50%;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .carousel-button.left {
            position: absolute;
            left: 0;
        }

        .carousel-button.right {
            position: absolute;
            right: 0;
        }

        .intro-slider-container,
        .intro-slide {
            height: 400px;
            background-color: white;
        }

    </style>
</head>

<body>
    <main class="main">

        <div class="page-content mt-5 pt-lg-3">
            <div class="container mt-lg-5 pt-lg-2">

                <div class="product-details-top">
                    <div class="row justify-content-center">
                        <div class="col-lg-8 col-md-6">
                            <div class="intro-slider-container slider-container-ratio slider-container-1 mb-2 mb-lg-0">
                                <div class="intro-slider intro-slider-1 owl-carousel owl-simple owl-light owl-nav-inside"
                                    data-toggle="owl" data-owl-options='{
                                        "nav": false, 
                                        "responsive": {
                                            "768": {
                                                "nav": true
                                            }
                                        }
                                    }'>

                                    <div class="intro-slide">
                                        <img src="/images/{{product.mainImage}}" alt="">

                                    </div><!-- End .intro-slide -->

                                    {{#each product.images}}
                                    <div class="intro-slide">
                                        <img src="/images/{{this}}" alt="">

                                    </div><!-- End .intro-slide -->
                                    {{/each}}





                                </div><!-- End .intro-slider owl-carousel owl-simple -->

                                <span class="slider-loader"></span><!-- End .slider-loader -->
                            </div><!-- End .intro-slider-container -->
                        </div><!-- End .col-lg-8 -->
                        {{!-- <div class="col-md-6">
                            <div class="product-gallery product-gallery-vertical">
                                <div class="row justify-content-center">
                                    <figure class="product-main-image">
                                        <img id="product-zoom" src="/images/{{product.mainImage}}"
                                            data-zoom-image="assets/images/products/single/1-big.jpg"
                                            alt="product image">
                                    </figure><!-- End .product-main-image -->

                                    <div class="thumbnail-container">
                                        <div class="img-box">
                                            <img src="/images/{{product.mainImage}}" alt=""
                                                class="thumbnail-image active">
                                        </div>
                                        {{#each product.images }}
                                        <div class="img-box">
                                            <img src="/images/{{this}}" alt="" class="thumbnail-image">
                                        </div>
                                        {{/each}}
                                    </div>
                                </div><!-- End .row -->
                            </div><!-- End .product-gallery -->
                        </div><!-- End .col-md-6 --> --}}

                        <div class="col-md-6 mt-lg-4">
                            <div class="product-details">
                                <h1 class="product-title">{{product.name}}</h1>

                                <div class="product-price">
                                    â‚¹{{product.price}}
                                </div><!-- End .product-price -->

                                <div class="product-content">
                                    <p>{{product.description}}</p>
                                </div><!-- End .product-content -->

                            </div><!-- End .details-filter-row -->

                            {{#if inCart }}
                            <div class="product-details-action mt-2">
                                <button onclick="window.location.href='/cart'" type="button"
                                    class="btn-product btn-cart"><span>Go to cart</span></button>
                            </div><!-- End .product-details-action -->
                            {{else}}
                            <form action="/cart/add" method="POST">
                                <input type="hidden" name="userId" value="{{userId}}">
                                <input type="hidden" name="productId" value="{{productId}}">
                                <div class="product-details-action mt-2">
                                    <button type="submit" class="btn-product btn-cart"><span class="text-dark">add to
                                            cart</span></button>
                                </div><!-- End .product-details-action -->
                            </form>
                            {{/if}}

                            <div class="product-details-footer">
                                <div class="social-icons social-icons-sm">
                                    <span class="social-label">Share:</span>
                                    <a href="#" class="social-icon" title="Facebook" target="_blank"><i
                                            class="icon-facebook-f"></i></a>
                                    <a href="#" class="social-icon" title="Instagram" target="_blank"><i
                                            class="icon-instagram"></i></a>
                                </div>
                            </div><!-- End .product-details-footer -->
                        </div><!-- End .product-details -->
                    </div><!-- End .col-md-6 -->
                </div><!-- End .row -->
            </div><!-- End .product-details-top -->

            <div class="product-details-tab">
                <ul class="nav nav-pills justify-content-center" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link active" id="product-desc-link" data-toggle="tab" href="#product-desc-tab"
                            role="tab" aria-controls="product-desc-tab" aria-selected="true">Description</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" id="product-shipping-link" data-toggle="tab" href="#product-shipping-tab"
                            role="tab" aria-controls="product-shipping-tab" aria-selected="false">Shipping & Returns</a>
                    </li>
                </ul>
                {{!-- <div class="tab-content">
                    <div class="tab-pane fade show active" id="product-desc-tab" role="tabpanel"
                        aria-labelledby="product-desc-link">
                        <div class="product-desc-content">
                            <h3>Product Information</h3>
                            <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Donec odio. Quisque volutpat
                                mattis eros. Nullam malesuada erat ut turpis. Suspendisse urna viverra non, semper
                                suscipit, posuere a, pede. Donec nec justo eget felis facilisis fermentum. Aliquam
                                porttitor mauris sit amet orci. Aenean dignissim pellentesque felis. Phasellus ultrices
                                nulla quis nibh. Quisque a lectus. Donec consectetuer ligula vulputate sem tristique
                                cursus. </p>
                        </div><!-- End .product-desc-content -->
                    </div><!-- .End .tab-pane -->

                    <div class="tab-pane fade" id="product-shipping-tab" role="tabpanel"
                        aria-labelledby="product-shipping-link">
                        <div class="product-desc-content">
                            <h3>Delivery & returns</h3>
                            <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Donec odio. Quisque volutpat
                                mattis eros. Nullam malesuada erat ut turpis. Suspendisse urna viverra non, semper
                                suscipit, posuere a, pede. Donec nec justo eget felis facilisis fermentum. Aliquam
                                porttitor mauris sit amet orci. Aenean dignissim pellentesque felis. Phasellus ultrices
                                nulla quis nibh. Quisque a lectus. Donec consectetuer ligula vulputate sem tristique
                                cursus. </p>
                        </div><!-- End .product-desc-content -->
                    </div><!-- .End .tab-pane -->
                    <div class="tab-pane fade" id="product-review-tab" role="tabpanel"
                        aria-labelledby="product-review-link">
                        <div class="reviews">
                            <h3>Reviews (2)</h3>
                            <div class="review">
                                <div class="row no-gutters">
                                    <div class="col-auto">
                                        <h4><a href="#">Samanta J.</a></h4>
                                        <div class="ratings-container">
                                            <div class="ratings">
                                                <div class="ratings-val" style="width: 80%;"></div>
                                            </div><!-- End .ratings -->
                                        </div><!-- End .rating-container -->
                                    </div><!-- End .col-auto -->
                                    <div class="col">
                                        <div class="review-text">
                                            <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Donec odio.
                                                Quisque
                                                volutpat mattis eros. Nullam malesuada erat ut turpis. Suspendisse urna
                                                viverra non, semper suscipit, posuere a, pede.</p>
                                        </div><!-- End .review-text -->
                                    </div><!-- End .col -->
                                </div><!-- End .row -->
                            </div><!-- End .review -->
                        </div><!-- End .reviews -->
                    </div><!-- .End .tab-pane -->
                </div><!-- End .tab-content --> --}}
            </div><!-- End .product-details-tab -->
        </div><!-- End .page-content -->
    </main><!-- End .main -->
     {{>footer}}

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const thumbnails = document.querySelectorAll('.thumbnail-image');
            const mainImage = document.getElementById('product-zoom');

            thumbnails.forEach(thumbnail => {
                thumbnail.addEventListener('click', function () {
                    // Remove 'active' class from all thumbnails
                    thumbnails.forEach(thumb => thumb.classList.remove('active'));

                    // Add 'active' class to the clicked thumbnail
                    this.classList.add('active');

                    // Change the main image source to the clicked thumbnail's source
                    mainImage.src = this.src;
                });
            });
        });
    </script>
</body>

</html>